<!DOCTYPE html>
<html>
<head>
    <title>אפליקציית רדיו</title>
</head>
<body>
    <h1>אפליקציית רדיו</h1>

    <audio id="radioPlayer" controls>
        <source id="audioSource" src="https://www.computerhope.com/jargon/m/example.mp3" type="audio/mpeg">
        דפדפן זה אינו תומך בהשמעת אודיו.
    </audio>

    <div>
        <label for="audioOutput">בחר פלט שמע:</label>
        <select id="audioOutput">
            <option value="default">ברירת מחדל (מכשיר)</option>
            <option value="bluetooth">Bluetooth (אם מחובר)</option>
        </select>
    </div>

    <script>
        const radioPlayer = document.getElementById('radioPlayer');
        const audioSource = document.getElementById('audioSource');
        const audioOutputSelect = document.getElementById('audioOutput');

        // טעינת הנתונים של נגן האודיו
        radioPlayer.load();

        audioOutputSelect.addEventListener('change', () => {
            const selectedOutput = audioOutputSelect.value;

            if (selectedOutput === 'bluetooth') {
                // בקשה למשתמש לבחור התקן בלוטות'
                navigator.bluetooth.requestDevice({
                    acceptAllDevices: true,
                    optionalServices: ['audio_sink']
                })
                .then(device => {
                    console.log('התקן בלוטות' נבחר: ' + device.name);
                    // כאן יש להוסיף לוגיקה לניתוב האודיו להתקן הבלוטות'
                    // (זה דורש API ספציפי להתקן בלוטות' ויכול להיות מורכב)
                    alert('שימו לב: ניתוב אודיו לבלוטות\' דורש API ספציפי ואינו מיושם בדוגמה זו.');
                })
                .catch(error => {
                    console.error('שגיאה בבחירת התקן בלוטות\':', error);
                    alert('אירעה שגיאה בבחירת התקן בלוטות\'.');
                });
            } else {
                // חזרה לפלט ברירת מחדל
                console.log('חזרה לפלט ברירת מחדל.');
                // כאן יש להוסיף לוגיקה להחזרת האודיו לפלט ברירת מחדל
                // (ברוב המקרים זה קורה אוטומטית)
            }
        });
    </script>
</body>
</html>
